 var vue =new Vue({
    el:'#app',
    data:{
      jobinfo:{
          id:'',
          companyName:'',
          companyAddr:'',
          companyInfo:'',
          jobName:'',
          jobAddr:'',
          jobInfo:'',
          salaryMin:'',
          salaryMax:'',
          url:'',
          time:''
      },
        jobinfoList:[],
        page:1,
        size:20,
        totalPages:0,
        totalElements:0,
        number:0
    },
    methods:{

        initSource:function (value) {
        axios.get("/jobo/findAll?page="+value+"&size="+this.size).then(function (response) {
            vue.jobinfoList = response.data.content;
            vue.totalPages=response.data.totalPages;
            vue.totalElements=response.data.totalElements;
            vue.number=response.data.number;
        }).catch(function (error) {
         alert("加载错误");
        });
        },
        fun1:function (value) {
            this.initSource(value);
        },
        deleteId:function (id) {
            axios.get("/jobo/removeById/"+id).then(function (response) {
                var flag = response.data;
                if (flag) {
                    alert("删除成功!")
                  vue.initSource(vue.number);
                }else{
                    alert("删除有误!")
                }

            });
        },
        findById:function (id) {
            $("#myModal").modal("show");
            axios.get("/jobo/findById/"+id).then(function (response) {
                vue.jobinfo=response.data;
            }).catch(function (error) {
               alert("查询失败");
            });
            
        },
        update:function () {
            
        }
    },
    created:function () {

        this.initSource(0);
    },


});